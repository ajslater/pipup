#!/bin/sh
printf "Finding outdated packages..."
EXCLUDE='Could\ not\ find\|You\ are\|You\ should\|^Some\|Some insecure\|The\ directory|pyobjc'
LIST=$(pip list --local --outdated --format=legacy | grep -v "$EXCLUDE" | cut -d ' ' -f 1)

if [ -n "$LIST" ]; then
    echo
    cmd="pip install -U $LIST"
    echo "$cmd"
    $cmd
else
    echo Python packages are up to date.
fi
echo done.
